# Anno Chrome 拡張 UI モック設計

## 1. Popup.html（WebClip 時の小窓）

### 構成要素

- Project 選択（既存）
- **API Key 入力欄**
  - type="password"
  - 初回必須、以降は自動補完
  - 伏字表示、再入力で上書き
  - 保存時に暗号化
- **モデル選択ドロップダウン**
  - gpt-3.5-turbo（デフォルト）
  - gpt-4o
  - 手動入力（カスタムモデル名）
- **▼ 詳細設定（折りたたみ）**
  - Max Tokens（数値入力, デフォルト 160）
  - Temperature（0.0〜1.0, デフォルト 0.3）
- **要約自動挿入トグル**（ON/OFF, Options と同期）
- クリップ実行ボタン

### レイアウト例（ワイヤーフレーム）

```
+-------------------------------+
| Project: [ v ]                |
|-------------------------------|
| OpenAI API Key: [******] (i)  |
| モデル: [gpt-3.5-turbo ▼]      |
| ▼ 詳細設定                    |
|   Max Tokens: [ 160 ]         |
|   Temperature: [ 0.3 ]        |
|-------------------------------|
| [✓] 要約を自動挿入する         |
|-------------------------------|
|           [Clip]              |
+-------------------------------+
```

### バリデーション・フィードバック

- API Key 未入力時は Clip 不可
- 保存・エラー時はトースト表示
- 要約生成中は「…generating summary」ローディング
- 成功時は done バッジ、失敗時はエラー表示

### i18n 対応

- ラベル・ボタン・エラーメッセージは`i18n/ja.json`/`en.json`から取得

---

## 2. Options.html（設定画面）

### 構成要素

- **API Key 再設定欄**
  - type="password"
  - 伏字表示、再入力で上書き
  - 「クリア」ボタン（2 段階確認）
- **要約自動挿入トグル**
- **モデル選択・詳細設定**（Popup と同様）
- 保存ボタン

### レイアウト例

```
+-------------------------------+
| OpenAI API Key: [******] (i)  |
| [再設定] [クリア]              |
|-------------------------------|
| モデル: [gpt-3.5-turbo ▼]      |
| ▼ 詳細設定                    |
|   Max Tokens: [ 160 ]         |
|   Temperature: [ 0.3 ]        |
|-------------------------------|
| [✓] 要約を自動挿入する         |
|-------------------------------|
|           [保存]              |
+-------------------------------+
```

### バリデーション・フィードバック

- API Key 未入力時は保存不可
- クリア時は「本当に削除しますか？」→「最終確認：削除します」
- 保存・エラー時はトースト表示

### i18n 対応

- ラベル・ボタン・エラーメッセージは`i18n/ja.json`/`en.json`から取得

---

## 3. フィードバック UI

- Popup や Scrapbox ページ最上部にローディング・成功・失敗トースト/バッジ/通知
- エラー時は「⚠️ summary error: <reason>」を薄文字で挿入

---

## 4. 備考

- API Key 欄は Project 選択と同じ括りに配置
- クリア操作は 2 段階確認
- UI 文言は i18n で管理
- アクセシビリティ考慮（ラベル・aria 属性）
